<!DOCTYPE html>
<html lang="ko">
<head>
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-100042262-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-100042262-1');
	</script>

	<title>bbungsang's devlog</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- 파비콘 -->
	<link rel="shortcut icon" href="/static/images/favicon.ico">

	<!-- CSS -->
	<link rel="stylesheet" href="/static/css/common.css" />
	<link rel="stylesheet" href="/static/css/nav.css" />
	<link rel="stylesheet" href="/static/css/main.css" />
	<link rel="stylesheet" href="/static/css/post.css" />
	<link rel="stylesheet" href="/static/css/list.css" />
	<link rel="stylesheet" href="https://cdn.iconmonstr.com/1.2.0/css/iconmonstr-iconic-font.min.css">

	<!--external css-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link href='https://cdn.iconmonstr.com/1.2.0/css/iconmonstr-iconic-font.min.css' rel='stylesheet'>

	<!-- font -->
	<link href='https://fonts.googleapis.com/css?family=Gloria Hallelujah' rel='stylesheet'>
	<link href='https://cdn.rawgit.com/openhiun/hangul/14c0f6faa2941116bb53001d6a7dcd5e82300c3f/nanumbarungothic.css' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Architects Daughter' rel='stylesheet'>
	<link href='https://fonts.googleapis.com/css?family=Bungee Hairline' rel='stylesheet'>
	<link href='https://fonts.googleapis.com/css?family=Bubbler One' rel='stylesheet'>
	<link href="https://fonts.googleapis.com/css?family=Patrick Hand SC" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<body>
  <div id="container" class="container">
    <section class="top-wrap">
  <article class="logo">
    <a href="/">bbungsang devlog</a>
  </article>
  <ul class="top-menu">
    <li class="menu-list active">
      <a href="/">Posts</a>
    </li>
    <li class="menu-list">
      <a href="#">About</a>
    </li>
  </ul>
  <article class="btn-wrap">
    <i id="menuBtn" class="fa fa-diamond"></i>
  </article>
</section>
<section class="desc">
</section>

<script>
  const menuList = document.getElementsByClassName("menu-list")
  menuList.forEach((menu) => {
    menu.addEventListener("click", () => {
      const current = document.getElementsByClassName("active")
      current[0].className = current[0].className.replace("active", "")
      this.className += " active"
    })
  })
</script>
<div id="mySidenav" class="sidenav">
  <div class="intro-me">
    <div class="my-photo">
      <img src="/static/images/itsme.png">
    </div>
    <div class="my-content">
      Please contact me if you have any questions
      <p>- Elena.Kim -</p>
      <a href="/" class="home">홈으로</a>
    </div>
  </div>
  <ul class="menu-ele">
    <li>
      <a href="/files/js.html">
        <span class="bar-left"></span>
        자바스크립트
        <span class="bar-right"></span>
      </a>
    </li>
    <li>
      <a href="/files/python.html">
        <span class="bar-left"></span>
        파이썬
        <span class="bar-right"></span>
      </a>
    </li>
    <li>
      <a href="/files/django.html">
        <span class="bar-left"></span>
        장고
        <span class="bar-right"></span>
      </a>
    </li>
    <li>
      <a href="/files/algorithm.html">
        <span class="bar-left"></span>
        알고리즘
        <span class="bar-right"></span>
      </a>
    </li>
    <li>
      <a href="/files/server.html">
        <span class="bar-left"></span>
        서버
        <span class="bar-right"></span>
      </a>
    </li>
    <li>
      <a href="/files/study.html">
        <span class="bar-left"></span>
        스터디
        <span class="bar-right"></span>
      </a>
    </li>
  </ul>
</div>

<script>
  function sideNavBtnClickHandler(e) {
    document.getElementById("mySidenav").style.right = "0px";
    e.stopPropagation();
  }

  document.getElementById("menuBtn").addEventListener(
    "click",
    sideNavBtnClickHandler
  );

  window.addEventListener("click", function () {
    var sidenav = document.getElementsByClassName("sidenav");

    for(var i=0; i<sidenav.length; i++){
      var closeSidenav = sidenav[i];
      closeSidenav.style.right = "-240px";
    }
  });
</script>


    <section class="markdown">
  <article class="md-head">
    <div class="title">
      [Javascript Core] 실행 컨텍스트
    </div>
    <div class="tag-wrap">
      
      
        <a href="/tags/#JavaScript">
          <img src="/static/images/tag_img.png">
          JavaScript
        </a>
      
    </div>
  </article>
  <article class="markdown-body">
    <section class="post-content">
      <h2 id="실행-컨텍스란">실행 컨텍스란?</h2>
<p>자바스크립트 코드는 크게 global 코드, function 코드, eval 코드 세 가지로 분류되며, 이 모든 코드는 실행 컨텍스트에서 실행이 된다.</p>

<p><img src="/assets/execution_context.png" alt="" class="center-image" /></p>

<h3 id="전역-실행-컨텍스트global-execution-context">전역 실행 컨텍스트(Global Execution Context)</h3>
<ul>
  <li>프로그램이 실행되면, 최초로 window 객체의 속성들(전역 변수, 함수 포함)이 모두 GEC로 들어오게 된다.</li>
  <li>GEC는 Stack의 최하단에 오직 하나만 존재하며 프로그램이 끝날 때까지 존재하여 모든 멤버가 그 내용을 공유할 수 있다.</li>
  <li>GEC의 상단으로 (Function 혹은 Eval)컨텍스트가 순차적으로 쌓이고 실행후 제거된다.</li>
</ul>

<h3 id="함수-실행-컨텍스트function-execution-context">함수 실행 컨텍스트(Function Execution Context)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>function func(x) { console.log(x) }
func("a")
func("b")
func("c")
</code></pre></div></div>

<ul>
  <li>FCE는 GEC의 모든 코드에 접근할 수 있다.</li>
  <li>함수가 호출되면, 실행의 흐름이 FEC로 진입하여 실행된다. 기본적으로 하나의 함수는 무한대의 컨텍스트를 생성할 수 있다.</li>
  <li>위 예제의 경우, 함수가 다른 인자를 가지고 3번 호출되었기 때문에 각기 다른 3개의 FEC가 생성된다. 즉, 동일한 함수의 실행이라도 기존 컨텍스트의 재활용이 아닌 새로운 컨텍스트를 계속 생성하게 된다.</li>
</ul>

<h2 id="실행-컨텍스트의-동작-방식">실행 컨텍스트의 동작 방식</h2>
<ul>
  <li>실행 컨텍스트는 <code class="highlighter-rouge">Stack</code>이라는 영역에 차곡차곡 쌓이게 되고, 나중에 들어온 컨텍스트가 스택의 최상단에 위치하게 된다. <strong>(선입후출)</strong></li>
  <li>최상단에 위치하는 컨텍스트를 <code class="highlighter-rouge">callee</code>라고 일컫으며, 이는 <code class="highlighter-rouge">현재 실행되고 있는 컨텍스트</code>를 의미한다.</li>
  <li>이 callee는 caller를 통해서 실행하게 되는데, caller는 Stack의 최상단에 위치한 실행 컨텍스트를 가리킨다. 이 때 callee는 <code class="highlighter-rouge">Active Context</code>라는 이름을 가지게 된다.</li>
  <li>최상단의 실행 컨텍스트인 callee는 작업을 마치면, return을 하거나 exception을 일으키며 Stack을 빠져나가게 된다.</li>
</ul>

<p><img src="/assets/global_context.jpg" alt="" class="center-image" /></p>

<h2 id="실행-컨텍스트의-구조">실행 컨텍스트의 구조</h2>
<p>각각의 실행 컨텍스트는 크게 3가지의 형태로 구성되어 있으며, 언제나 1개의 <code class="highlighter-rouge">변수 객체(VO) -&gt; 스코프 체인(SC) -&gt; This Value</code> 속성 모두가 Object 형식으로 저장된다. (자바스크립트 Object 데이터 타입이 아니기 때문에 사용자가 접근할 방법이 없다.)</p>

<p><img src="/assets/ec_structure.jpg" alt="" class="center-image" /></p>

<h3 id="변수-객체variable-object">변수 객체(Variable Object)</h3>
<h4 id="lexical-environment">Lexical Environment</h4>
<ul>
  <li>컨텍스트에서 선언된 변수, 함수들의 <code class="highlighter-rouge">참조값</code>을 저장하는 객체이다.</li>
  <li>식별자(변수, 함수 이름)를 참조값으로 변환할 때 사용된다. 즉, 생성 후 값이 변할 수 있다.</li>
</ul>

<h4 id="variable-enviroment">Variable Enviroment</h4>
<ul>
  <li><code class="highlighter-rouge">함수 선언식(함수 표현식은 제외)</code>, <code class="highlighter-rouge">변수</code>나 <code class="highlighter-rouge">매개 변수(prameter)</code>와 <code class="highlighter-rouge">인수 정보(arguments)</code>를 담는 곳이다.</li>
  <li>생성 후 절대로 값이 변하지 않는다.</li>
</ul>

<blockquote>
  <h4 id="전역-컨텍스트와-함수-컨텍스트의-변수-객체">전역 컨텍스트와 함수 컨텍스트의 변수 객체</h4>
  <ul>
    <li>전역 컨텍스트의 변수 객체는 전역 변수와 전역 함수</li>
    <li>함수 컨텍스트의 변수 객체는 arguments, 내부 함수, 지역 변수</li>
  </ul>
</blockquote>

<blockquote>
  <h4 id="왜-함수-표현식은-호이스팅이-불가능할까">왜 함수 표현식은 호이스팅이 불가능할까?</h4>
  <ul>
    <li>함수 선언식은 해당 함수의 선언, 초기화와 할당을 동시에 하지만, 함수 표현식은 선언과 초기화 단계가 분리되어 진행된다. 함수가 실행되는 시점에 초기화와 할당이 이뤄지기 때문에 초기화가 되지 않은 시점에 호출하면 ReferenceError를 일으킨다.</li>
    <li>실행 시점에만 작동하고 사라지므로 다른 함수의 전달 인자로 전달될 수 있으며, 바로 호출될 수 있다.</li>
  </ul>
</blockquote>

<h3 id="스코프-체인scope-chain">스코프 체인(Scope Chain)</h3>
<ul>
  <li>중첩된 함수 스코프의 레퍼런스를 차례로 저장하고 있는 것으로, 현재 실행 컨텍스트(callee 혹은 Activation Object)에서 시작하여 상위 컨텍스트의 Activation Object를 가리키며 마지막에는 전역 객체를 가리킨다.</li>
  <li>엔진은 이를 통해 변수의 스코프를 파악하며, 함수가 중첩 상태일 때 하위 함수 내에서 상위 함수의 유효범위까지 참조할 수 있는 것은 스코프 체인을 검색했기 때문이다.</li>
  <li>즉, 중첩된 함수는 외부 함수(부모 함수)의 스코프가 내부 함수(자식 함수)의 스코프 체인에 포함된다.</li>
</ul>

<h3 id="this-value">This Value</h3>
<ul>
  <li>this에 할당되는 값은 함수 호출 패턴에 의해 결정되며, 따로 설정되어 있지 않으면 window 객체를 가리킨다. 이 this를 바꾸기위해 <a href="http://localhost:4000/javascript/2018/01/05/create-object.html">new 연산자</a>를 호출하는 방법이 있다.</li>
</ul>

<h2 id="참고">참고</h2>
<p><a href="http://poiemaweb.com/js-execution-context">PoiemaWeb - 실행 컨텍스트와 자바스크립트의 동작 원리</a></p>


    </section>
    <br><br>
    <footer>

      <!-- option to limit page -->
      
      

      

      <ul class="other-posts">
        
        <li class="prev-or-next">
          <a href="/javascript/2018/01/03/prototype.html">
            <span class="glyphicon glyphicon-chevron-left"></span>
            [Javascript Core] 프로토타입에 대해서
          </a>
        </li>
        
        
        <li class="prev-or-next" align="right" style="float: right;">
          <a href="/javascript/2018/01/04/global-local-variable.html">
            [Javascript Core] 전역 변수와 지역...
            <span class="glyphicon glyphicon-chevron-right"></span>
          </a>
        </li>
        
      </ul>
      
  <div id="disqus_thread"></div>
  <script>

  (function() {
  var d = document, s = d.createElement('script')
  s.src = 'https://https-bbungsang-github-io.disqus.com/embed.js'
  s.setAttribute('data-timestamp', +(new Date())
  (d.head || d.body).appendChild(s)
  })()
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


    </footer>
  </article>
</section>

  </div>
</body>
</html>
